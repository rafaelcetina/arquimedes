
<!-- Main content -->
<div class="content-wrapper">

	<!-- Basic responsive configuration -->
	<div class="panel panel-flat">
		<div class="panel-heading">
			<h5 class="panel-title">Gestión de Cursos</h5>
			<div class="heading-elements">
				<ul class="icons-list">
					<li><a data-action="collapse"></a></li>
					<li><a data-action="reload"></a></li>
					<li><a data-action="close"></a></li>
				</ul>
			</div>
		</div>

		<div class="panel-body">
			<a href="#" class="btn btn-link btn-float has-text"><i class="icon-add text-primary"></i><span>Añadir curso</span></a>
			<input type="button" id="action-btn" value="Retrieve 10 first rows in the database" />
		</div>

		<table class="table datatable-responsive">
			<thead>
				<tr>
					<th>Clave</th>
					<th>Nombre del curso</th>
					<th>Carrera</th>
					<th>Semestre</th>
					<th>Status</th>
					<th class="text-center">Actions</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
	</div>
	<!-- /basic responsive configuration -->

</div>
<script>
var mysql = require('mysql');

// Get the mysql service
    getFirstTenRows(function(rows){
        var html = '';

        rows.forEach(function(row){
            html += '<tr>';
            html += '<td>';
            html += row.clave;
            html += '</td>';
            html += '<td>';
            html += row.nombre;
            html += '</td>';
            html += '<td>';
            html += row.carrera;
            html += '</td>';
            html += '<td>';
            html += row.semestre;
            html += '</td>';
            html += '<td>';
            if(row.status==1)
            	html += '<td><span class="label label-success">Activo</span></td>';
            else
            	html += '<td><span class="label label-warning">Inactivo</span></td>';
            html += '</td>';
            html += '<td>';
            html += 'actions';
            html += '</td>';
            html += '</tr>';
            console.log(row);
        });

        document.querySelector('.table > tbody').innerHTML = html;
    });

function getFirstTenRows(callback){
    var mysql = require('mysql');

    // Add the credentials to access your database
    var connection = mysql.createConnection({
        host     : 'localhost',
        user     : 'root',
        password : null,
        database : 'arquimedes'
    });

    // connect to mysql
    connection.connect(function(err) {
        // in case of error
        if(err){
            console.log(err.code);
            console.log(err.fatal);
        }
    });

    // Perform a query
    $query = 'SELECT * FROM cursos LIMIT 10';

    connection.query($query, function(err, rows, fields) {
        if(err){
            console.log("An error ocurred performing the query.");
            console.log(err);
            return;
        }

        callback(rows);

        console.log("Query succesfully executed");
    });

    // Close the connection
    connection.end(function(){
        // The connection has been closed
    });
}
</script>
<script>if (typeof module === 'object') {window.module = module; module = undefined;}</script>
	<!-- normal script imports etc  -->
	<!-- Theme JS files -->
	<script type="text/javascript" src="assets/js/plugins/tables/datatables/datatables.min.js"></script>
	<script type="text/javascript" src="assets/js/plugins/tables/datatables/extensions/responsive.min.js"></script>
	<script type="text/javascript" src="assets/js/pages/datatables_responsive.js"></script>
	<script type="text/javascript" src="assets/js/plugins/forms/selects/select2.min.js"></script>
	<!-- <script type="text/javascript" src="assets/js/core/app.js"></script> -->
	<!-- /theme JS files -->
<script>if (window.module) module = window.module;</script>